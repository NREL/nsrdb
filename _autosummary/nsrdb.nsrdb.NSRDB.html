

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nsrdb.nsrdb.NSRDB &mdash; nsrdb 4.1.3.dev44+g399dd0f01 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=79c3afef"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="nsrdb.preprocessing" href="nsrdb.preprocessing.html" />
    <link rel="prev" title="nsrdb.nsrdb" href="nsrdb.nsrdb.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            nsrdb
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/installation_usage.html">Installation and Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/installation.html">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../misc/installation.html#option-2-clone-repo-recommended-for-developers">Option 2: Clone repo (recommended for developers)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc/installation.html#nsrdb-versions">NSRDB Versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../overview/overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/albedo.html">Albedo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/albedo.html#welcome-to-the-nsrdb-albedo-library">Welcome to the NSRDB Albedo Library!</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/albedo.html#albedo-processing-steps-for-the-nsrdb">Albedo Processing Steps for the NSRDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../overview/albedo.html#downloading-modis-data">Downloading MODIS data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/all_sky.html">All Sky</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/all_sky.html#welcome-to-the-pxs-all-sky-irradiance-model">Welcome to the PXS All-Sky Irradiance Model!</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/all_sky.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/config.html">Config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/config.html#nsrdb-dataset-config-meta-data">NSRDB Dataset Config / Meta Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../overview/data_model.html">Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../overview/data_model.html#welcome-to-the-nsrdb-data-model">Welcome to the NSRDB Data Model!</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../overview/data_model.html#data-sources">Data Sources</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="nsrdb.html">API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nsrdb.aggregation.html">nsrdb.aggregation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.aggregation.aggregation.html">nsrdb.aggregation.aggregation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.aggregation.aggregation.Aggregation.html">nsrdb.aggregation.aggregation.Aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.aggregation.aggregation.Manager.html">nsrdb.aggregation.aggregation.Manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.aggregation.aggregation.MetaManager.html">nsrdb.aggregation.aggregation.MetaManager</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.albedo.html">nsrdb.albedo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.albedo.html">nsrdb.albedo.albedo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.albedo.CompositeAlbedoDay.html">nsrdb.albedo.albedo.CompositeAlbedoDay</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.albedo.ModisClipper.html">nsrdb.albedo.albedo.ModisClipper</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.albedo.AlbedoError.html">nsrdb.albedo.albedo.AlbedoError</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.cli.html">nsrdb.albedo.cli</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.cli.get_node_cmd.html">nsrdb.albedo.cli.get_node_cmd</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.cli.Date.html">nsrdb.albedo.cli.Date</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.ims.html">nsrdb.albedo.ims</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.download.html">nsrdb.albedo.ims.download</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.get_dt.html">nsrdb.albedo.ims.get_dt</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.uncompress.html">nsrdb.albedo.ims.uncompress</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsDataAcquisition.html">nsrdb.albedo.ims.ImsDataAcquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsDay.html">nsrdb.albedo.ims.ImsDay</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsFileAcquisition.html">nsrdb.albedo.ims.ImsFileAcquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsGapFill.html">nsrdb.albedo.ims.ImsGapFill</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.MetaFiles.html">nsrdb.albedo.ims.MetaFiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsDataNotFoundError.html">nsrdb.albedo.ims.ImsDataNotFoundError</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.ims.ImsError.html">nsrdb.albedo.ims.ImsError</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.modis.html">nsrdb.albedo.modis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.modis.ModisDay.html">nsrdb.albedo.modis.ModisDay</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.modis.ModisFileAcquisition.html">nsrdb.albedo.modis.ModisFileAcquisition</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.modis.ModisError.html">nsrdb.albedo.modis.ModisError</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.modis_v6_download.html">nsrdb.albedo.modis_v6_download</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.modis_v6_download.daterange.html">nsrdb.albedo.modis_v6_download.daterange</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.modis_v6_download.main.html">nsrdb.albedo.modis_v6_download.main</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.albedo.temperature_model.html">nsrdb.albedo.temperature_model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.temperature_model.DataHandler.html">nsrdb.albedo.temperature_model.DataHandler</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.albedo.temperature_model.TemperatureModel.html">nsrdb.albedo.temperature_model.TemperatureModel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.all_sky.html">nsrdb.all_sky</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.all_sky.all_sky.html">nsrdb.all_sky.all_sky</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.all_sky.all_sky.all_sky.html">nsrdb.all_sky.all_sky.all_sky</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.all_sky.all_sky.all_sky_h5.html">nsrdb.all_sky.all_sky.all_sky_h5</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.all_sky.all_sky.all_sky_h5_parallel.html">nsrdb.all_sky.all_sky.all_sky_h5_parallel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.all_sky.utilities.html">nsrdb.all_sky.utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.all_sky.utilities.scale_all_sky_outputs.html">nsrdb.all_sky.utilities.scale_all_sky_outputs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.blend.html">nsrdb.blend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.blend.blend.html">nsrdb.blend.blend</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.blend.blend.Blender.html">nsrdb.blend.blend.Blender</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.cli.html">nsrdb.cli</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.cli.DictOrFile.html">nsrdb.cli.DictOrFile</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.cli.DictOrFile.html#nsrdb.cli.DictOrFile"><code class="docutils literal notranslate"><span class="pre">DictOrFile</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.config.html">nsrdb.config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.config.create_configs.html">nsrdb.config.create_configs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.config.create_configs.CreateConfigs.html">nsrdb.config.create_configs.CreateConfigs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.data_model.html">nsrdb.data_model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.albedo.html">nsrdb.data_model.albedo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.albedo.AlbedoVar.html">nsrdb.data_model.albedo.AlbedoVar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.asymmetry.html">nsrdb.data_model.asymmetry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.asymmetry.AsymVar.html">nsrdb.data_model.asymmetry.AsymVar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.base_handler.html">nsrdb.data_model.base_handler</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.base_handler.AncillaryVarHandler.html">nsrdb.data_model.base_handler.AncillaryVarHandler</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.base_handler.BaseDerivedVar.html">nsrdb.data_model.base_handler.BaseDerivedVar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.clouds.html">nsrdb.data_model.clouds</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.clouds.CloudCoords.html">nsrdb.data_model.clouds.CloudCoords</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.clouds.CloudVar.html">nsrdb.data_model.clouds.CloudVar</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.clouds.CloudVarSingle.html">nsrdb.data_model.clouds.CloudVarSingle</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.clouds.CloudVarSingleH5.html">nsrdb.data_model.clouds.CloudVarSingleH5</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.clouds.CloudVarSingleNC.html">nsrdb.data_model.clouds.CloudVarSingleNC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.data_model.html">nsrdb.data_model.data_model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.data_model.DataModel.html">nsrdb.data_model.data_model.DataModel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.gfs.html">nsrdb.data_model.gfs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.gfs.GfsDewPoint.html">nsrdb.data_model.gfs.GfsDewPoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.gfs.GfsFiles.html">nsrdb.data_model.gfs.GfsFiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.gfs.GfsVar.html">nsrdb.data_model.gfs.GfsVar</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.gfs.GfsVarSingle.html">nsrdb.data_model.gfs.GfsVarSingle</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.maiac_aod.html">nsrdb.data_model.maiac_aod</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.maiac_aod.MaiacVar.html">nsrdb.data_model.maiac_aod.MaiacVar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.merra.html">nsrdb.data_model.merra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.merra.DewPoint.html">nsrdb.data_model.merra.DewPoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.merra.MerraVar.html">nsrdb.data_model.merra.MerraVar</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.merra.RelativeHumidity.html">nsrdb.data_model.merra.RelativeHumidity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.nrel_data.html">nsrdb.data_model.nrel_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.nrel_data.NrelVar.html">nsrdb.data_model.nrel_data.NrelVar</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.solar_zenith_angle.html">nsrdb.data_model.solar_zenith_angle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.solar_zenith_angle.SolarZenithAngle.html">nsrdb.data_model.solar_zenith_angle.SolarZenithAngle</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.data_model.variable_factory.html">nsrdb.data_model.variable_factory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.data_model.variable_factory.VarFactory.html">nsrdb.data_model.variable_factory.VarFactory</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.file_handlers.html">nsrdb.file_handlers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.file_handlers.collection.html">nsrdb.file_handlers.collection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.collection.Collector.html">nsrdb.file_handlers.collection.Collector</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.file_handlers.file_system.html">nsrdb.file_handlers.file_system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.file_system.NSRDBFileSystem.html">nsrdb.file_handlers.file_system.NSRDBFileSystem</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.file_handlers.outputs.html">nsrdb.file_handlers.outputs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.outputs.Outputs.html">nsrdb.file_handlers.outputs.Outputs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.file_handlers.resource.html">nsrdb.file_handlers.resource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.resource.MultiFileResource.html">nsrdb.file_handlers.resource.MultiFileResource</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.resource.Resource.html">nsrdb.file_handlers.resource.Resource</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.file_handlers.surfrad.html">nsrdb.file_handlers.surfrad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.file_handlers.surfrad.Surfrad.html">nsrdb.file_handlers.surfrad.Surfrad</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.gap_fill.html">nsrdb.gap_fill</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.gap_fill.cloud_fill.html">nsrdb.gap_fill.cloud_fill</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.cloud_fill.CloudGapFill.html">nsrdb.gap_fill.cloud_fill.CloudGapFill</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.gap_fill.irradiance_fill.html">nsrdb.gap_fill.irradiance_fill</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.irradiance_fill.enforce_clearsky.html">nsrdb.gap_fill.irradiance_fill.enforce_clearsky</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.irradiance_fill.gap_fill_irrad.html">nsrdb.gap_fill.irradiance_fill.gap_fill_irrad</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.irradiance_fill.make_fill_flag.html">nsrdb.gap_fill.irradiance_fill.make_fill_flag</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.irradiance_fill.missing_cld_props.html">nsrdb.gap_fill.irradiance_fill.missing_cld_props</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.gap_fill.mlclouds_fill.html">nsrdb.gap_fill.mlclouds_fill</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.gap_fill.mlclouds_fill.MLCloudsFill.html">nsrdb.gap_fill.mlclouds_fill.MLCloudsFill</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.mymean.html">nsrdb.mymean</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.mymean.mymean.html">nsrdb.mymean.mymean</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.mymean.mymean.MyMean.html">nsrdb.mymean.mymean.MyMean</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="nsrdb.nsrdb.html">nsrdb.nsrdb</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">nsrdb.nsrdb.NSRDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nsrdb.nsrdb.NSRDB"><code class="docutils literal notranslate"><span class="pre">NSRDB</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.preprocessing.html">nsrdb.preprocessing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.preprocessing.nasa_data_model.html">nsrdb.preprocessing.nasa_data_model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.preprocessing.nasa_data_model.run_jobs.html">nsrdb.preprocessing.nasa_data_model.run_jobs</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.preprocessing.nasa_data_model.NasaDataModel.html">nsrdb.preprocessing.nasa_data_model.NasaDataModel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.solar_position.html">nsrdb.solar_position</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.solar_position.solpos.html">nsrdb.solar_position.solpos</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.solar_position.solpos.SolPos.html">nsrdb.solar_position.solpos.SolPos</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.solar_position.spa.html">nsrdb.solar_position.spa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.solar_position.spa.SPA.html">nsrdb.solar_position.spa.SPA</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.solar_position.spa_tables.html">nsrdb.solar_position.spa_tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.solar_position.spa_tables.DeltaTable.html">nsrdb.solar_position.spa_tables.DeltaTable</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.solar_position.spa_tables.SPAtables.html">nsrdb.solar_position.spa_tables.SPAtables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.tmy.html">nsrdb.tmy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.tmy.cdf.html">nsrdb.tmy.cdf</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.cdf.Cdf.html">nsrdb.tmy.cdf.Cdf</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.tmy.qa.html">nsrdb.tmy.qa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.qa.run_checks.html">nsrdb.tmy.qa.run_checks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.tmy.tmy.html">nsrdb.tmy.tmy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.tmy.Tmy.html">nsrdb.tmy.tmy.Tmy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.tmy.tmy_runner.html">nsrdb.tmy.tmy_runner</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.tmy_runner.TmyRunner.html">nsrdb.tmy.tmy_runner.TmyRunner</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.tmy.utilities.html">nsrdb.tmy.utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.utilities.drop_leap.html">nsrdb.tmy.utilities.drop_leap</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.tmy.utilities.make_time_masks.html">nsrdb.tmy.utilities.make_time_masks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nsrdb.utilities.html">nsrdb.utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.ModuleName.html">nsrdb.utilities.ModuleName</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.ModuleName.html#nsrdb.utilities.ModuleName"><code class="docutils literal notranslate"><span class="pre">ModuleName</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.cli.html">nsrdb.utilities.cli</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.cli.get_doys.html">nsrdb.utilities.cli.get_doys</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.cli.BaseCLI.html">nsrdb.utilities.cli.BaseCLI</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.cli.SlurmManager.html">nsrdb.utilities.cli.SlurmManager</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.extract_nsrdb_data.html">nsrdb.utilities.extract_nsrdb_data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_nsrdb_data.ExtractNSRDB.html">nsrdb.utilities.extract_nsrdb_data.ExtractNSRDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_nsrdb_data.ExtractPuertoRico.html">nsrdb.utilities.extract_nsrdb_data.ExtractPuertoRico</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_nsrdb_data.ExtractTestData.html">nsrdb.utilities.extract_nsrdb_data.ExtractTestData</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_nsrdb_data.ExtractValidationData.html">nsrdb.utilities.extract_nsrdb_data.ExtractValidationData</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.html">nsrdb.utilities.extract_surfrad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.extract_all.html">nsrdb.utilities.extract_surfrad.extract_all</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.filter_measurement_df.html">nsrdb.utilities.extract_surfrad.filter_measurement_df</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.get_dat_table.html">nsrdb.utilities.extract_surfrad.get_dat_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.get_lw1_table.html">nsrdb.utilities.extract_surfrad.get_lw1_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.extract_surfrad.surfrad_to_h5.html">nsrdb.utilities.extract_surfrad.surfrad_to_h5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.file_utils.html">nsrdb.utilities.file_utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.clean_meta.html">nsrdb.utilities.file_utils.clean_meta</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.convert_directory.html">nsrdb.utilities.file_utils.convert_directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.convert_h4.html">nsrdb.utilities.file_utils.convert_h4</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.convert_list_parallel.html">nsrdb.utilities.file_utils.convert_list_parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.convert_list_serial.html">nsrdb.utilities.file_utils.convert_list_serial</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.daterange.html">nsrdb.utilities.file_utils.daterange</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.get_conversion_list.html">nsrdb.utilities.file_utils.get_conversion_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.get_format_keys.html">nsrdb.utilities.file_utils.get_format_keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.pd_date_range.html">nsrdb.utilities.file_utils.pd_date_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.repack_h5.html">nsrdb.utilities.file_utils.repack_h5</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.str_replace_dict.html">nsrdb.utilities.file_utils.str_replace_dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.ts_freq_check.html">nsrdb.utilities.file_utils.ts_freq_check</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.unzip_gz.html">nsrdb.utilities.file_utils.unzip_gz</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.file_utils.url_download.html">nsrdb.utilities.file_utils.url_download</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.interpolation.html">nsrdb.utilities.interpolation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.agg.html">nsrdb.utilities.interpolation.agg</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.idw.html">nsrdb.utilities.interpolation.idw</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.lower_data.html">nsrdb.utilities.interpolation.lower_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.nn.html">nsrdb.utilities.interpolation.nn</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.parse_method.html">nsrdb.utilities.interpolation.parse_method</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.raise_data.html">nsrdb.utilities.interpolation.raise_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.remove_tz.html">nsrdb.utilities.interpolation.remove_tz</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.spatial_interp.html">nsrdb.utilities.interpolation.spatial_interp</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.temporal_lin.html">nsrdb.utilities.interpolation.temporal_lin</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.interpolation.temporal_step.html">nsrdb.utilities.interpolation.temporal_step</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.html">nsrdb.utilities.nearest_neighbor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.geo_nn.html">nsrdb.utilities.nearest_neighbor.geo_nn</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.knn.html">nsrdb.utilities.nearest_neighbor.knn</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.rad_to_dist.html">nsrdb.utilities.nearest_neighbor.rad_to_dist</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.reg_grid_nn.html">nsrdb.utilities.nearest_neighbor.reg_grid_nn</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.nearest_neighbor.to_rads.html">nsrdb.utilities.nearest_neighbor.to_rads</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.plots.html">nsrdb.utilities.plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.plots.Spatial.html">nsrdb.utilities.plots.Spatial</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.plots.Temporal.html">nsrdb.utilities.plots.Temporal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.pytest.html">nsrdb.utilities.pytest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.pytest.execute_pytest.html">nsrdb.utilities.pytest.execute_pytest</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.sky_class.html">nsrdb.utilities.sky_class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.sky_class.SkyClass.html">nsrdb.utilities.sky_class.SkyClass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="nsrdb.utilities.statistics.html">nsrdb.utilities.statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.N.html">nsrdb.utilities.statistics.N</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.mae.html">nsrdb.utilities.statistics.mae</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.mae_perc.html">nsrdb.utilities.statistics.mae_perc</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.mbe.html">nsrdb.utilities.statistics.mbe</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.mbe_perc.html">nsrdb.utilities.statistics.mbe_perc</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.rmse.html">nsrdb.utilities.statistics.rmse</a></li>
<li class="toctree-l4"><a class="reference internal" href="nsrdb.utilities.statistics.rmse_perc.html">nsrdb.utilities.statistics.rmse_perc</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../_cli/cli.html">CLI reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../_cli/nsrdb.html">nsrdb</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-aggregate">aggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-all-sky">all-sky</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-batch">batch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-blend">blend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-cloud-fill">cloud-fill</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-aggregate">collect-aggregate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-blend">collect-blend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-daily">collect-daily</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-data-model">collect-data-model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-final">collect-final</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-collect-tmy">collect-tmy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-create-configs">create-configs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-daily-all-sky">daily-all-sky</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-data-model">data-model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-ml-cloud-fill">ml-cloud-fill</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-pipeline">pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/nsrdb.html#nsrdb-tmy">tmy</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">nsrdb</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="nsrdb.html">nsrdb</a></li>
          <li class="breadcrumb-item"><a href="nsrdb.nsrdb.html">nsrdb.nsrdb</a></li>
      <li class="breadcrumb-item active">nsrdb.nsrdb.NSRDB</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nrel/nsrdb/blob/main/docs/source/_autosummary/nsrdb.nsrdb.NSRDB.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nsrdb-nsrdb-nsrdb">
<h1>nsrdb.nsrdb.NSRDB<a class="headerlink" href="#nsrdb-nsrdb-nsrdb" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NSRDB</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">make_out_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Entry point for NSRDB data pipeline execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Processing year.</p></li>
<li><p><strong>grid</strong> (<em>str | pd.DataFrame</em>) – CSV file containing the NSRDB reference grid to interpolate to,
or a pre-extracted (and reduced) dataframe. The first csv column
must be the NSRDB site gid’s.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | None</em>) – File path to NSRDB variables meta data. None will use the default
file from the github repo.</p></li>
<li><p><strong>make_out_dirs</strong> (<em>bool</em>) – Flag to make output directories for logs, daily, collect, and final</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.collect_data_model" title="nsrdb.nsrdb.NSRDB.collect_data_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect_data_model</span></code></a>(out_dir, year, grid, ...)</p></td>
<td><p>Collect daily data model files to a single site-chunked output file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.collect_final" title="nsrdb.nsrdb.NSRDB.collect_final"><code class="xref py py-obj docutils literal notranslate"><span class="pre">collect_final</span></code></a>(out_dir, year, grid[, ...])</p></td>
<td><p>Collect chunked files to single final output files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.date_to_doy" title="nsrdb.nsrdb.NSRDB.date_to_doy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">date_to_doy</span></code></a>(date)</p></td>
<td><p>Convert a date to a day of year integer.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.doy_to_datestr" title="nsrdb.nsrdb.NSRDB.doy_to_datestr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">doy_to_datestr</span></code></a>(year, doy)</p></td>
<td><p>Convert day of year to YYYYMMDD string format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.gap_fill_clouds" title="nsrdb.nsrdb.NSRDB.gap_fill_clouds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gap_fill_clouds</span></code></a>(out_dir, year, i_chunk[, ...])</p></td>
<td><p>Gap fill cloud properties in a collected data model output file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.init_output_h5" title="nsrdb.nsrdb.NSRDB.init_output_h5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_output_h5</span></code></a>(f_out, dsets, time_index, meta)</p></td>
<td><p>Initialize a target output h5 file if it does not already exist or if Force is True.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.make_out_dirs" title="nsrdb.nsrdb.NSRDB.make_out_dirs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_out_dirs</span></code></a>()</p></td>
<td><p>Ensure that all output directories exist</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.ml_cloud_fill" title="nsrdb.nsrdb.NSRDB.ml_cloud_fill"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ml_cloud_fill</span></code></a>(out_dir, date[, fill_all, ...])</p></td>
<td><p>Gap fill cloud properties using a physics-guided neural network (phygnn).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.run_all_sky" title="nsrdb.nsrdb.NSRDB.run_all_sky"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_all_sky</span></code></a>(out_dir, year, grid[, freq, ...])</p></td>
<td><p>Run the all-sky physics model from collected .h5 files</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.run_daily_all_sky" title="nsrdb.nsrdb.NSRDB.run_daily_all_sky"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_daily_all_sky</span></code></a>(out_dir, year, grid, date)</p></td>
<td><p>Run the all-sky physics model from daily data model output files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.run_data_model" title="nsrdb.nsrdb.NSRDB.run_data_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_data_model</span></code></a>(out_dir, date, grid[, ...])</p></td>
<td><p>Run daily data model, and save output files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.run_full" title="nsrdb.nsrdb.NSRDB.run_full"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run_full</span></code></a>(date, grid, freq[, var_meta, ...])</p></td>
<td><p>Run the full nsrdb pipeline in-memory using serial compute.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.to_datetime" title="nsrdb.nsrdb.NSRDB.to_datetime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_datetime</span></code></a>(date)</p></td>
<td><p>Convert a date string or integer to datetime object.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">OUTS</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.meta" title="nsrdb.nsrdb.NSRDB.meta"><code class="xref py py-obj docutils literal notranslate"><span class="pre">meta</span></code></a></p></td>
<td><p>Get the NSRDB meta dataframe from the grid file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#nsrdb.nsrdb.NSRDB.time_index_year" title="nsrdb.nsrdb.NSRDB.time_index_year"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_index_year</span></code></a></p></td>
<td><p>Get the NSRDB full-year time index.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.make_out_dirs">
<span class="sig-name descname"><span class="pre">make_out_dirs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.make_out_dirs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.make_out_dirs" title="Link to this definition"></a></dt>
<dd><p>Ensure that all output directories exist</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.time_index_year">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_index_year</span></span><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.time_index_year" title="Link to this definition"></a></dt>
<dd><p>Get the NSRDB full-year time index.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nsrdb_ti</strong> (<em>pd.DatetimeIndex</em>) – Pandas datetime index for the current year at the NSRDB resolution.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.meta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">meta</span></span><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.meta" title="Link to this definition"></a></dt>
<dd><p>Get the NSRDB meta dataframe from the grid file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>meta</strong> (<em>pd.DataFrame</em>) – DataFrame of meta data from grid file csv.
The first column must be the NSRDB site gid’s.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.init_output_h5">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_output_h5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dsets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.init_output_h5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.init_output_h5" title="Link to this definition"></a></dt>
<dd><p>Initialize a target output h5 file if it does not already exist
or if Force is True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_out</strong> (<em>str</em>) – File path to final .h5 file.</p></li>
<li><p><strong>dsets</strong> (<em>list</em>) – List of dataset / variable names that are to be contained in f_out.</p></li>
<li><p><strong>time_index</strong> (<em>pd.datetimeindex</em>) – Time index to init to file.</p></li>
<li><p><strong>meta</strong> (<em>pd.DataFrame</em>) – Meta data to init to file.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – Flag to overwrite / force the creation of the f_out even if a
previous file exists.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.doy_to_datestr">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">doy_to_datestr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.doy_to_datestr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.doy_to_datestr" title="Link to this definition"></a></dt>
<dd><p>Convert day of year to YYYYMMDD string format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int</em>) – Year of interest</p></li>
<li><p><strong>doy</strong> (<em>int</em>) – Enumerated day of year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>date</strong> (<em>str</em>) – Single day to extract ancillary data for.
str in YYYYMMDD format.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.date_to_doy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">date_to_doy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.date_to_doy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.date_to_doy" title="Link to this definition"></a></dt>
<dd><p>Convert a date to a day of year integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day to extract ancillary data for.
Can be str or int in YYYYMMDD format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>doy</strong> (<em>int</em>) – Day of year.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.to_datetime">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.to_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.to_datetime" title="Link to this definition"></a></dt>
<dd><p>Convert a date string or integer to datetime object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day to extract ancillary data for.
Can be str or int in YYYYMMDD format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>date</strong> (<em>datetime.date</em>) – Date object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.run_data_model">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_data_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mlclouds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers_regrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data_model.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.run_data_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.run_data_model" title="Link to this definition"></a></dt>
<dd><p>Run daily data model, and save output files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day to extract ancillary data for.
Can be str or int in YYYYMMDD format.</p></li>
<li><p><strong>grid</strong> (<em>str | pd.DataFrame</em>) – CSV file containing the NSRDB reference grid to interpolate to,
or a pre-extracted (and reduced) dataframe. The first csv column
must be the NSRDB site gid’s.</p></li>
<li><p><strong>dist_lim</strong> (<em>float</em>) – Return only neighbors within this distance during cloud regrid.
The distance is in decimal degrees (more efficient than real
distance). NSRDB sites further than this value from GOES data
pixels will be warned and given missing cloud types and properties
resulting in a full clearsky timeseries.</p></li>
<li><p><strong>var_list</strong> (<em>list | tuple | None</em>) – Variables to process with the data model. None will default to all
NSRDB variables.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>factory_kwargs</strong> (<em>dict | None</em>) – Optional namespace of kwargs to use to initialize variable data
handlers from the data model’s variable factory. Keyed by
variable name. Values can be “source_dir”, “handler”, etc…
source_dir for cloud variables can be a normal directory
path or /directory/prefix*suffix where /directory/ can have
more sub dirs</p></li>
<li><p><strong>mlclouds</strong> (<em>bool</em>) – Flag to add extra variables to the variable processing list of
mlclouds gap fill is expected to be run as the next pipeline step.</p></li>
<li><p><strong>max_workers</strong> (<em>int | None</em>) – Number of workers to run in parallel. 1 runs serial,
None uses all available workers.</p></li>
<li><p><strong>max_workers_regrid</strong> (<em>None | int</em>) – Max parallel workers allowed for cloud regrid processing. None uses
all available workers. 1 runs regrid in serial.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.collect_data_model">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collect_data_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_chunks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_writes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'collect_dm.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.collect_data_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.collect_data_model" title="Link to this definition"></a></dt>
<dd><p>Collect daily data model files to a single site-chunked output file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Year of analysis</p></li>
<li><p><strong>grid</strong> (<em>str</em>) – Final/full NSRDB grid file. The first column must be the NSRDB
site gid’s.</p></li>
<li><p><strong>n_chunks</strong> (<em>int</em>) – Number of chunks (site-wise) to collect to.</p></li>
<li><p><strong>i_chunks</strong> (<em>int</em>) – Chunk index (site-wise) (indexing n_chunks) to run.</p></li>
<li><p><strong>i_fname</strong> (<em>int</em>) – File name index from sorted NSRDB.OUTS keys to run collection for.</p></li>
<li><p><strong>n_writes</strong> (<em>None | int</em>) – Number of file list divisions to write per dataset. For example,
if ghi and dni are being collected and n_writes is set to 2,
half of the source ghi files will be collected at once and then
written, then the second half of ghi files, then dni.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
<li><p><strong>max_workers</strong> (<em>int | None</em>) – Number of workers to run in parallel. 1 runs serial,
None uses all available workers.</p></li>
<li><p><strong>final</strong> (<em>bool</em>) – Flag signifying that this is the last step in the NSRDB pipeline.
this will collect the data to the out_dir/final/ directory instead
of the out_dir/collect Directory.</p></li>
<li><p><strong>final_file_name</strong> (<em>str | None</em>) – Final file name for filename outputs if this is the terminal job.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.collect_final">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collect_final</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'final_collection.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.collect_final"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.collect_final" title="Link to this definition"></a></dt>
<dd><p>Collect chunked files to single final output files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Year of analysis</p></li>
<li><p><strong>grid</strong> (<em>str</em>) – Final/full NSRDB grid file. The first column must be the NSRDB
site gid’s.</p></li>
<li><p><strong>collect_dir</strong> (<em>str</em>) – Directory with chunked files to be collected.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>i_fname</strong> (<em>int | None</em>) – Optional index to collect just a single output file. Indexes the
sorted OUTS class attribute keys.</p></li>
<li><p><strong>tmp</strong> (<em>bool</em>) – Flag to use temporary scratch storage, then move to out_dir when
finished. Doesn’t seem to be faster than collecting to normal
scratch on hpc.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.gap_fill_clouds">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gap_fill_clouds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cloud_fill.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.gap_fill_clouds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.gap_fill_clouds" title="Link to this definition"></a></dt>
<dd><p>Gap fill cloud properties in a collected data model output file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Year of analysis</p></li>
<li><p><strong>i_chunks</strong> (<em>int</em>) – Chunk index (indexing n_chunks) to run.</p></li>
<li><p><strong>rows</strong> (<em>slice</em>) – Subset of rows to gap fill.</p></li>
<li><p><strong>cols</strong> (<em>slice</em>) – Subset of columns to gap fill.</p></li>
<li><p><strong>col_chunk</strong> (<em>None | int</em>) – Optional chunking method to gap fill one column chunk at a time
to reduce memory requirements. If provided, this should be an
integer specifying how many columns to work on at one time.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.ml_cloud_fill">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ml_cloud_fill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cloud_fill.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.ml_cloud_fill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.ml_cloud_fill" title="Link to this definition"></a></dt>
<dd><p>Gap fill cloud properties using a physics-guided neural
network (phygnn).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day data model output to run cloud fill on.
Can be str or int in YYYYMMDD format.</p></li>
<li><p><strong>fill_all</strong> (<em>bool</em>) – Flag to fill all cloud properties for all timesteps where
cloud_type is cloudy.</p></li>
<li><p><strong>model_path</strong> (<em>str | None</em>) – Directory to load phygnn model from. This is typically a fpath to
a .pkl file with an accompanying .json file in the same directory.
None will try to use the default model path from the mlclouds
project directory.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
<li><p><strong>col_chunk</strong> (<em>None | int</em>) – Optional chunking method to gap fill one column chunk at a time
to reduce memory requirements. If provided, this should be an
integer specifying how many columns to work on at one time.</p></li>
<li><p><strong>max_workers</strong> (<em>None | int</em>) – Maximum workers to clean data in parallel. 1 is serial and None
uses all available workers.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.run_all_sky">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_all_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_sky.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disc_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.run_all_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.run_all_sky" title="Link to this definition"></a></dt>
<dd><p>Run the all-sky physics model from collected .h5 files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Year of analysis</p></li>
<li><p><strong>grid</strong> (<em>str</em>) – Final/full NSRDB grid file. The first column must be the NSRDB
site gid’s.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>col_chunk</strong> (<em>int</em>) – Chunking method to run all sky one column chunk at a time
to reduce memory requirements. This is an integer specifying
how many columns to work on at one time.</p></li>
<li><p><strong>rows</strong> (<em>slice</em>) – Subset of rows to run.</p></li>
<li><p><strong>cols</strong> (<em>slice</em>) – Subset of columns to run.</p></li>
<li><p><strong>max_workers</strong> (<em>int | None</em>) – Number of workers to run in parallel. 1 will run serial,
None will use all available.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
<li><p><strong>i_chunk</strong> (<em>None | int</em>) – Enumerated file index if running on site chunk.</p></li>
<li><p><strong>disc_on</strong> (<em>bool</em>) – Compute cloudy sky dni with the disc model (True) or the farms-dni
model (False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.run_daily_all_sky">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_daily_all_sky</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'5min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all_sky.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DEBUG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disc_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.run_daily_all_sky"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.run_daily_all_sky" title="Link to this definition"></a></dt>
<dd><p>Run the all-sky physics model from daily data model output files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out_dir</strong> (<em>str</em>) – Project directory.</p></li>
<li><p><strong>year</strong> (<em>int | str</em>) – Year of analysis</p></li>
<li><p><strong>grid</strong> (<em>str</em>) – Final/full NSRDB grid file. The first column must be the NSRDB
site gid’s.</p></li>
<li><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day data model output to run cloud fill on.
Can be str or int in YYYYMMDD format.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>col_chunk</strong> (<em>int</em>) – Chunking method to run all sky one column chunk at a time
to reduce memory requirements. This is an integer specifying
how many columns to work on at one time.</p></li>
<li><p><strong>rows</strong> (<em>slice</em>) – Subset of rows to run.</p></li>
<li><p><strong>cols</strong> (<em>slice</em>) – Subset of columns to run.</p></li>
<li><p><strong>max_workers</strong> (<em>int | None</em>) – Number of workers to run in parallel. 1 will run serial,
None will use all available.</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
<li><p><strong>disc_on</strong> (<em>bool</em>) – Compute cloudy sky dni with the disc model (True) or the farms-dni
model (False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="nsrdb.nsrdb.NSRDB.run_full">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run_full</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_meta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_workers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'INFO'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disc_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/nsrdb/nsrdb.html#NSRDB.run_full"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#nsrdb.nsrdb.NSRDB.run_full" title="Link to this definition"></a></dt>
<dd><p>Run the full nsrdb pipeline in-memory using serial compute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> (<em>datetime.date | str | int</em>) – Single day to extract ancillary data for.
Can be str or int in YYYYMMDD format.</p></li>
<li><p><strong>grid</strong> (<em>str | pd.DataFrame</em>) – CSV file containing the NSRDB reference grid to interpolate to,
or a pre-extracted (and reduced) dataframe. The first csv column
must be the NSRDB site gid’s.</p></li>
<li><p><strong>freq</strong> (<em>str</em>) – Final desired NSRDB temporal frequency.</p></li>
<li><p><strong>var_meta</strong> (<em>str | pd.DataFrame | None</em>) – CSV file or dataframe containing meta data for all NSRDB variables.
Defaults to the NSRDB var meta csv in git repo.</p></li>
<li><p><strong>factory_kwargs</strong> (<em>dict | None</em>) – Optional namespace of kwargs to use to initialize variable data
handlers from the data model’s variable factory. Keyed by
variable name. Values can be “source_dir”, “handler”, etc…
source_dir for cloud variables can be a normal directory
path or /directory/prefix*suffix where /directory/ can have
more sub dirs</p></li>
<li><p><strong>fill_all</strong> (<em>bool</em>) – Flag to fill all cloud properties for all timesteps where
cloud_type is cloudy.</p></li>
<li><p><strong>model_path</strong> (<em>str | None</em>) – Directory to load phygnn model from. This is typically a fpath to
a .pkl file with an accompanying .json file in the same directory.
None will try to use the default model path from the mlclouds
project directory.</p></li>
<li><p><strong>dist_lim</strong> (<em>float</em>) – Return only neighbors within this distance during cloud regrid.
The distance is in decimal degrees (more efficient than real
distance). NSRDB sites further than this value from GOES data
pixels will be warned and given missing cloud types and properties
resulting in a full clearsky timeseries.</p></li>
<li><p><strong>max_workers</strong> (<em>int, optional</em>) – Number of workers to use for NSRDB computation. If 1 run in serial,
else in parallel. If None use all available cores. by default None</p></li>
<li><p><strong>low_mem</strong> (<em>bool</em>) – Option to run predictions in low memory mode. Typically the
memory bloat during prediction is:
(n_time x n_sites x n_nodes_per_layer). low_mem=True will
reduce this to (1000 x n_nodes_per_layer)</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) – File to log to. Will be put in output directory.</p></li>
<li><p><strong>log_level</strong> (<em>str | None</em>) – Logging level (DEBUG, INFO). If None, no logging will be
initialized.</p></li>
<li><p><strong>disc_on</strong> (<em>bool</em>) – Compute cloudy sky dni with the disc model (True) or the farms-dni
model (False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_model</strong> (<em>nsrdb.data_model.DataModel</em>) – DataModel instance with all processed nsrdb variables available in
the DataModel.processed_data attribute.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nsrdb.nsrdb.html" class="btn btn-neutral float-left" title="nsrdb.nsrdb" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nsrdb.preprocessing.html" class="btn btn-neutral float-right" title="nsrdb.preprocessing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alliance for Sustainable Energy, LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>